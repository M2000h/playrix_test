–ù–∞–¥–æ —Å —á–µ–≥–æ-—Ç–æ –Ω–∞—á–∞—Ç—å... –ê —Ç–æ –æ–Ω–∏ –¥–æ–≥–∞–¥–∞—é—Ç—Å—è... –¢–∞–∫, –ì–µ–Ω–∞... –ì–µ–Ω–Ω–∞–¥–∏–π

# Playrix Test Task üíö

–ê–ª–≥–æ—Ä–∏—Ç–º –¥–æ–æ–±—É—á–µ–Ω–∏—è –º–æ–¥–µ–ª–∏ FLUX.1 –Ω–∞ –ø—Ä–∏–º–µ—Ä–µ –ª–æ–∫–∞—Ü–∏–π –ú–æ—Å–∫–≤—ã –≤ —Å—Ç–∏–ª–µ [Simon St√•lenhag](https://www.simonstalenhag.se/).

–î–µ–π—Å—Ç–≤–∏—è –æ–ø–∏—Å—ã–≤–∞—é—Ç—Å—è –≤ —Ö—Ä–æ–Ω–æ–ª–æ–≥–∏—á–µ—Å–∫–æ–º –ø–æ—Ä—è–¥–∫–µ, –Ω–æ –≤ –Ω–µ–∫–æ—Ç–æ—Ä—ã—Ö –º–µ—Å—Ç–∞—Ö –¥–ª—è —É–¥–æ–±—Å—Ç–≤–∞ –æ–±—ä–µ–¥–µ–Ω–∏–Ω—ã –ø–æ —Å–º—ã—Å–ª—É.

–ù–µ–∫–æ—Ç–æ—Ä—ã–µ –ø—É–Ω–∫—Ç—ã –º–æ–≥—É—Ç –±—ã—Ç—å –Ω–µ–º–Ω–æ–≥–æ —É–ø—Ä–æ—â–µ–Ω—ã (–Ω–∞–ø—Ä–∏–º–µ—Ä —á–∞—Å—Ç—å –∏–Ω—Ñ–µ—Ä–µ–Ω—Å–æ–≤, –ø—Ä–æ—Ü–µ—Å—Å –ø–æ–¥–≥–æ–Ω–∫–∏ –ø–∞—Ä–∞–º–µ—Ç—Ä–æ–≤ –∏ —Ç.–¥),
—á—Ç–æ–±—ã –Ω–µ —Ä–∞—Å—Ç—è–≥–∏–≤–∞—Ç—å –∏ –±–µ–∑ —Ç–æ–≥–æ –±–æ–ª—å—à–æ–µ –æ–ø–∏—Å–∞–Ω–∏–µ,
–ø–æ—ç—Ç–æ–º—É, –µ—Å–ª–∏ –∫–∞–∫–æ–π-—Ç–æ –≤—ã–≤–æ–¥ –∫–∞–∂–µ—Ç—Å—è –±–µ–∑–æ—Å–Ω–æ–≤–∞—Ç–µ–ª—å–Ω—ã–º, –ª—É—á—à–µ —É—Ç–æ—á–Ω–∏—Ç—å –Ω–∞–ø—Ä—è–º—É—é.

## üìã –°–æ–¥–µ—Ä–∂–∞–Ω–∏–µ

1. [–ü–æ–¥–≥–æ—Ç–æ–≤–∫–∞](#%EF%B8%8F-–ø–æ–¥–≥–æ—Ç–æ–≤–∫–∞)
2. [Network Storage](#-network-storage)
3. [–ó–∞–≥—Ä—É–∑–∫–∞ –º–æ–¥–µ–ª–∏](#-–∑–∞–≥—Ä—É–∑–∫–∞-–º–æ–¥–µ–ª–∏)
4. [–ó–∞–≥—Ä—É–∑–∫–∞ –¥–∞—Ç–∞—Å–µ—Ç–æ–≤](#-–∑–∞–≥—Ä—É–∑–∫–∞-–¥–∞—Ç–∞—Å–µ—Ç–æ–≤)
5. [–û–±—É—á–µ–Ω–∏–µ](#–û–±—É—á–µ–Ω–∏–µ)
5. [Pod](#-pod)
6. [–ü—Ä–æ—Ü–µ—Å—Å](#-–ø—Ä–æ—Ü–µ—Å—Å)
7. [Flux Kontext](#-flux-kontext)
8. [–ü—Ä–æ–º–ø—Ç–∏–Ω–≥ –ø–µ—Ä–µ–æ–±—É—á–µ–Ω–Ω–æ–π –Ω–∞ —Å—Ç–∏–ª—å –º–æ–¥–µ–ª–∏](#%EF%B8%8F-–ø—Ä–æ–º–ø—Ç–∏–Ω–≥-–ø–µ—Ä–µ–æ–±—É—á–µ–Ω–Ω–æ–π-–Ω–∞-—Å—Ç–∏–ª—å-–º–æ–¥–µ–ª–∏)
9. [–î–æ—É–±–µ—á–µ–Ω–∏–µ —Å—Ç–∏–ª—é –∏ –∫–æ–Ω–∫—Ä–µ—Ç–Ω–æ–π –ª–æ–∫–∞—Ü–∏–∏](#-–¥–æ—É–±–µ—á–µ–Ω–∏–µ-—Å—Ç–∏–ª—é-–∏-–∫–æ–Ω–∫—Ä–µ—Ç–Ω–æ–π-–ª–æ–∫–∞—Ü–∏–∏)
10. [–°—Ä–∞–≤–Ω–µ–Ω–∏–µ](#%EF%B8%8F-—Å—Ä–∞–≤–Ω–µ–Ω–∏–µ)
11. [–û–ø—Ä–æ–±–æ–≤–∞–Ω–Ω—ã–µ –º–µ—Ç–æ–¥—ã](#-–æ–ø—Ä–æ–±–æ–≤–∞–Ω–Ω—ã–µ-–º–µ—Ç–æ–¥—ã)
12. [Nano Banana](#-nano-banana)
13. [GPT-Image](#-gpt-image)
14. [–ò—Ç–æ–≥ —Å—Ä–∞–≤–Ω–µ–Ω–∏—è](#-–∏—Ç–æ–≥-—Å—Ä–∞–≤–Ω–µ–Ω–∏—è)
15. [–ß—Ç–æ –º–æ–∂–Ω–æ —É–ª—É—á—à–∏—Ç—å](#-—á—Ç–æ-–º–æ–∂–Ω–æ-—É–ª—É—á—à–∏—Ç—å)

## ‚öôÔ∏è –ü–æ–¥–≥–æ—Ç–æ–≤–∫–∞

–í—Å–µ –¥–µ–π—Å—Ç–≤–∏—è –≤—ã–ø–æ–ª–Ω—è—é—Ç—Å—è –Ω–∞ –ø–ª–∞—Ç—Ñ–æ—Ä–º–µ [runpod.io](https://runpod.io/)

### üíæ Network Storage

–°–Ω–∞—á–∞–ª–∞ —Å–æ–∑–¥–∞–¥–∏–º Network Storage –¥–ª—è —Ö—Ä–∞–Ω–µ–Ω–∏—è –¥–∞–Ω–Ω—ã—Ö –º–µ–∂–¥—É –ø–æ–¥–∞–º–∏.

–ü—Ä–∏ –Ω–∞—Å—Ç—Ä–æ–π–∫–µ Network Storage –∂–µ–ª–∞—Ç–µ–ª—å–Ω–æ, —á—Ç–æ–±—ã —Å–æ–±–ª—é–¥–∞–ª–∏—Å—å –≤—Å–µ —É—Å–ª–æ–≤–∏—è:

1. [x] –î–æ—Å—Ç—É–ø–Ω–∞ Global Networking
2. [x] –î–æ—Å—Ç—É–ø–µ–Ω S3 Compatible
3. [x] –î–æ—Å—Ç—É–ø–Ω—ã GPU Nvidia H100 –∏–ª–∏ H200
4. [x] –û–±—ä–µ–º –ø–∞–º—è—Ç–∏ –Ω–µ –º–µ–Ω–µ–µ 150–ì–ë

<img src="/images/storage.png" width="700px" />

Note: –ø–æ–¥—ã –ª—É—á—à–µ —Å–æ–∑–¥–∞–≤–∞—Ç—å –ø–æ –∫–Ω–æ–ø–∫–µ –∏–∑ –æ–±—ä–µ–∫—Ç–∞ —Ö—Ä–∞–Ω–∏–ª–∏—â–∞, —á—Ç–æ–±—ã –Ω–µ –∑–∞–±—ã–≤–∞—Ç—å –ø–æ–¥–∫–ª—é—á–∏—Ç—å –∏—Ö:

<img src="/images/storage1.png" width="700px" />

–î–∞–ª–µ–µ –ø—Ä–∏ —Å–æ–∑–¥–∞–Ω–∏–∏ –ø–æ–¥–æ–≤ —Ö—Ä–∞–Ω–∏–ª–∏—â–µ –±—É–¥–µ—Ç –º–∞—É–Ω—Ç–∏—Ç—Å—è –≤ –ø–∞–ø–∫—É `/workspace`.

### üß™ –ó–∞–≥—Ä—É–∑–∫–∞ –º–æ–¥–µ–ª–∏

–ó–∞–≥—Ä—É–∑–∏–º –º–æ–¥–µ–ª—å FLUX.1 –≤ —Ö—Ä–∞–Ω–∏–ª–∏—â–µ, —á—Ç–æ–±—ã –∏–∑–±–µ–∂–∞—Ç—å –ø–æ—Ç–µ—Ä–∏ –≤—Ä–µ–º–µ–Ω–∏ –∏ —Ä–µ—Å—É—Ä—Å–æ–≤ –ø—Ä–∏ –ø–æ–≤—Ç–æ—Ä–Ω–æ–º —Å–∫–∞—á–∏–≤–∞–Ω–∏–∏.

–î–ª—è —ç—Ç–æ–≥–æ –≤–æ–∑—å–º–µ–º –¶–ü–£ –ø–æ–¥ —Å —É–≤–µ–ª–∏—á–µ–Ω–Ω–æ–π RAM, —Ç.–∫ huggingface —Å–∫–∞—á–∏–≤–∞–µ—Ç –≤–µ—Å–∞ –æ–¥–Ω–∏–º —Ñ–∞–π–ª–æ–º, –ø—Ä–æ–≥–æ–Ω—è—è —á–µ—Ä–µ–∑
–æ–ø–µ—Ä–∞—Ç–∏–≤–Ω—É—é –ø–∞–º—è—Ç—å, –∏ –µ—Å–ª–∏ –µ–µ –Ω–µ —Ö–≤–∞—Ç–∏—Ç ‚Äî –ø—Ä–æ—Ü–µ—Å—Å –ø—Ä–µ—Ä–≤–µ—Ç—Å—è.

<img src="/images/cpu_pod_1.png" width="700px" />

–£—Å—Ç–∞–Ω–æ–≤–∏–º –ø–∞–∫–µ—Ç huggingface:

```shell
pip install "huggingface_hub>=0.24.6"
```

–°–∫–∞—á–∏–≤–∞–µ–º –≤–µ—Å–∞:

```python
from huggingface_hub import snapshot_download
import shutil

LOCAL_DIR = "/workspace/models/flux-dev"
HF_TOKEN = "..."  # –¢–æ–∫–µ–Ω huggingface –º–æ–∂–Ω–æ –ø–æ–ª—É—á–∏—Ç—å —á–µ—Ä–µ–∑ –ª–∏—á–Ω—ã–π –∫–∞–±–∏–Ω–µ—Ç: https://huggingface.co/settings/tokens

shutil.rmtree(LOCAL_DIR, ignore_errors=True)

local_dir = snapshot_download(
    repo_id="black-forest-labs/FLUX.1-dev",
    token=HF_TOKEN,
    local_dir=LOCAL_DIR,
    local_dir_use_symlinks=False,
    resume_download=True,
    max_workers=2,  # –ö–∞—á–∞–µ–º –∏–∑ –æ–±–ª–∞–∫–∞ –≤ –æ–±–ª–∞–∫–æ, –º–æ–∂–Ω–æ –Ω–µ –º–µ–ª–æ—á–∏—Ç—å—Å—è
    allow_patterns=[
        "*.json", "*config*", "*.txt", "*tokenizer*", "*.model", "*.vocab", "*.spiece",
        "*.safetensors", "*.bin"
    ],
)
print("Snapshot at:", local_dir)
```

–ü–æ—Å–ª–µ —ç—Ç–æ–≥–æ –≤ –ø–∞–ø–∫–µ `/workspace/models/flux-dev` –¥–æ–ª–∂–Ω—ã –ø–æ—è–≤–∏—Ç—Å—è —Ñ–∞–π–ª—ã:

```
ae.safetensors  flux1-dev.safetensors  model_index.json  scheduler  
text_encoder  text_encoder_2  tokenizer  tokenizer_2  transformer  vae
```

### üìö –ó–∞–≥—Ä—É–∑–∫–∞ –¥–∞—Ç–∞—Å–µ—Ç–æ–≤

–î–∞–ª–µ–µ –º–æ–∂–Ω–æ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –ø–æ–¥ —Å –º–∏–Ω–∏–º–∞–ª—å–Ω—ã–º CPU –∏ RAM.

–ó–∞–≥—Ä—É–∂–∞–µ–º –∫–∞—Ä—Ç–∏–Ω–∫–∏ —Ö—É–¥–æ–∂–Ω–∏–∫–∞ –≤ –º–∞–∫—Å–∏–º–∞–ª—å–Ω–æ–º —Ä–∞–∑—Ä–µ—à–µ–Ω–∏–∏. –û–Ω–∏ –¥–æ—Å—Ç—É–ø–Ω—ã –ø–æ —Å—Å—ã–ª–∫–µ —Å —É–∫–∞–∑–∞–Ω–∏–µ–º –ø–æ—Ä—è–¥–∫–æ–≤–æ–≥–æ –Ω–æ–º–µ—Ä–∞:

```python
from tqdm import tqdm
import requests

for i in tqdm(range(100)):
    response = requests.get(f"https://www.simonstalenhag.se/4k/svema_{i}_big.jpg", stream=True)
    if not response.ok:
        continue
    with open(f'/workspace/dataset/origs/{i}.jpg', 'wb') as f:
        for chunk in response:
            f.write(chunk)
```

–¢–∞–∫ –∂–µ –æ–ø–∏—à–µ–º —Å–∫—Ä–∏–ø—Ç –¥–ª—è —Å–∫–∞—á–∏–≤–∞–Ω–∏—è –∫–∞—Ä—Ç–∏–Ω–æ–∫ –∏–∑ –∏–Ω—Ç–µ—Ä–Ω–µ—Ç–∞, –æ–Ω –Ω–∞–º –ø–æ–Ω–∞–¥–æ–±–∏—Ç—Å—è –ø–æ–∑–∂–µ:

```python
import requests
import os

Kremlin = [  # –Ω–∞–∑–≤–∞–Ω–∏–µ –æ–±—ä–µ–∫—Ç–∞
    # —Å–ø–∏—Å–æ–∫ url —Å—Ç—Ä–æ–∫ –Ω–∞ .jpg –∫–∞—Ä—Ç–∏–Ω–∫–∏ #
]

folder = "./dataset/Kremlin"  # –ø–∞–ø–∫–∞ —Å –¥–∞—Ç–∞—Å–µ—Ç–æ–º –æ–±—ä–µ–∫—Ç–∞
os.makedirs(folder, exist_ok=True)

headers = {
    "User-Agent": "Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/91.0.4472.124 Safari/537.36"
}  # –û–±—Ö–æ–¥ –∞–Ω—Ç–∏-–±–æ—Ç —Å–∏—Å—Ç–µ–º

# –°–∫–∞—á–∏–≤–∞–Ω–∏–µ –∫–∞—Ä—Ç–∏–Ω–æ–∫
for i, url in enumerate(Kremlin, 1):
    try:
        response = requests.get(url, headers=headers)
        response.raise_for_status()

        filename = f"{i}.jpg"
        filepath = os.path.join(folder, filename)

        with open(filepath, "wb") as f:
            f.write(response.content)

        print(f"–°–∫–∞—á–∞–Ω–æ: {filename}")

    except Exception as e:
        print(f"–û—à–∏–±–∫–∞ –ø—Ä–∏ —Å–∫–∞—á–∏–≤–∞–Ω–∏–∏ {url}: {e}")

print("–ó–∞–≤–µ—Ä—à–µ–Ω–æ!")
```

## üë®‚Äçüè´ –û–±—É—á–µ–Ω–∏–µ

### üìü Pod

–î–ª—è –æ–±—É—á–µ–Ω–∏—è –ª—É—á—à–µ –≤—Å–µ–≥–æ –ø–æ–¥—Ö–æ–¥–∏—Ç GPU Nvidia H200, –µ—Å–ª–∏ –µ–µ –Ω–µ—Ç, –º–æ–∂–Ω–æ –ø—Ä–∏–¥–µ—Ä–∂–∏–≤–∞—Ç—å—Å—è –ø—Ä–∏–Ω—Ü–∏–ø–∞ "–º–æ—â–Ω–µ–µ ‚Äî –ª—É—á—à–µ".

Note: –∑–∞–≥—Ä—É–∑–∫–∞ –≤–µ—Å–æ–≤ –ø—Ä–æ–∏—Å—Ö–æ–¥–∏—Ç —á–µ—Ä–µ–∑ RAM, –ø–æ—ç—Ç–æ–º—É RAM –ª—É—á—à–µ –Ω–µ –±—Ä–∞—Ç—å –º–µ–Ω—å—à–µ 96–ì–ë, –∏–Ω–∞—á–µ –∑–∞–≥—Ä—É–∑–∫–∞ –ø—Ä–µ—Ä–≤–µ—Ç—Å—è.

<img src="/images/H200.png" width="700px" />

–í—ã–±–∏—Ä–∞–µ–º –ø–æ—Å–ª–µ–¥–Ω–∏–π –æ–±—Ä–∞–∑ ubuntu —Å pytorch, 1 CPU, Spot (–ø—Ä–µ—Ä—ã–≤–∞–µ–º—ã–π) –ø–æ–¥
(–æ–Ω —Å–∏–ª—å–Ω–æ –¥–µ—à–µ–≤–ª–µ, –Ω–æ –Ω—É–∂–Ω–æ –ø–æ—Å—Ç–∞–≤–∏—Ç—å —Å–≤–µ—á–∫—É –∑–∞ —Ç–æ, —á—Ç–æ –Ω–∞ 999 –∏—Ç–µ—Ä–∞—Ü–∏–∏ –æ–Ω –Ω–µ –≤—ã–∫–ª—é—á–∏—Ç—Å—è),
—Å—Ä–∞–∑—É –≤–∫–ª—é—á–∞–µ–º SSH –∏ Jupyter Notebook:

<img src="/images/H200_1.png" width="700px" />

–ü–æ—Å–ª–µ –∑–∞–ø—É—Å–∫–∞ –Ω—É–∂–Ω–æ –ø–µ—Ä–µ–π—Ç–∏ –≤ –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏—é `/workspace` –∏ —É—Å—Ç–∞–Ω–æ–≤–∏—Ç—å —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–π `huggingface/diffusers`:

```shell
git clone https://github.com/huggingface/diffusers
cd diffusers/examples/dreambooth
pip install accelerate
accelerate config default
```

### üìù –ü—Ä–æ—Ü–µ—Å—Å

–ò–∑–Ω–∞—á–∞–ª—å–Ω–æ –±—ã–ª–∞ –ø—Ä–µ–¥–ø—Ä–∏–Ω—è—Ç–∞ –ø–æ–ø—ã—Ç–∫–∞ —Å–∞–º–æ—Å—Ç–æ—è—Ç–µ–ª—å–Ω–æ –Ω–∞–ø–∏—Å–∞—Ç—å —Ñ–∞–π–ª –¥–ª—è –æ–±—É—á–µ–Ω–∏—è flux –º–æ–¥–µ–ª–∏
—Å –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ–º Lora, –æ–¥–Ω–∞–∫–æ –±—ã–ª–∏ —Å–ª–æ–∂–Ω–æ—Å—Ç–∏ —Å —Ç–µ–º, —á—Ç–æ–±—ã –ø–æ–¥—Ä—É–∂–∏—Ç—å –¥–∞–Ω–Ω—ã–µ (–Ω–∞–ø—Ä–∏–º–µ—Ä —Ç–µ–Ω–∑–æ—Ä—ã)
–º–µ–∂–¥—É –≥–ø—É –∏ —Ü–ø—É, —Ç–∞–∫ –∂–µ —Å–∏—Ç—É–∞—Ü–∏—é –æ—Å–ª–æ–∂–Ω—è–ª —Ç–æ—Ç —Ñ–∞–∫—Ç, —á—Ç–æ –ø–æ–¥—ã "–æ–¥–Ω–æ—Ä–∞–∑–æ–≤—ã–µ", —Ç.–µ –ø—Ä–∏ –≤—ã–∫–ª—é—á–µ–Ω–∏–∏
—É–¥–∞–ª—è—é—Ç—Å—è, –ø–æ—ç—Ç–æ–º—É —Å –∫–∞–∂–¥—ã–º –Ω–æ–≤—ã–º –∑–∞–ø—É—Å–∫–æ–º –ø—Ä–∏—Ö–æ–¥–∏–ª–æ—Å—å –∑–∞–Ω–æ–≤–æ —É—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞—Ç—å –≤—Å–µ –±–∏–±–ª–∏–æ—Ç–µ–∫–∏ –∏ —Ä–µ—à–∞—Ç—å –∫–æ–Ω—Ñ–ª–∏–∫—Ç—ã –≤–µ—Ä—Å–∏–π
–º–µ–∂–¥—É –Ω–∏–º–∏.

–ü–æ—ç—Ç–æ–º—É, —á—Ç–æ–±—ã –Ω–µ —Ç—Ä–∞—Ç–∏—Ç—å –≤—Ä–µ–º—è, –±—ã–ª –≤–∑—è—Ç –≥–æ—Ç–æ–≤—ã–π —Ñ–∞–π–ª –∏–∑ –ø—Ä–∏–º–µ—Ä–æ–≤ –±–∏–±–ª–∏–æ—Ç–µ–∫–∏ - `train_dreambooth_lora_flux.py`.

–î–ª—è –Ω–∞—á–∞–ª–∞ —É—Å—Ç–∞–Ω–æ–≤–∏–º –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ (–æ–Ω–∏ –¥–æ–≤–æ–ª—å–Ω–æ —Ç—É–≥–æ –ø–æ–¥–≥–æ–Ω—è–ª–∏—Å—å, –ø–æ—ç—Ç–æ–º—É –ª—É—á—à–µ —É—Å—Ç–∞–Ω–æ–≤–∏—Ç—å as-is –∫–∞–∫ –Ω–∞–ø–∏—Å–∞–Ω–æ –∑–¥–µ—Å—å):

```shell
pip install --pre torch torchvision --index-url https://download.pytorch.org/whl/nightly/cu121
pip install transformers accelerate safetensors datasets peft torchao tensorboard
pip uninstall -y flash-attn triton
pip install --no-cache-dir "git+https://github.com/huggingface/diffusers.git@main"
pip install --upgrade --no-cache-dir bitsandbytes tokenizers sentencepiece protobuf
```

Note: —ç—Ç–∏ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ —É—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞—é—Ç—Å—è –ø–æ—Å–ª–µ –∫–∞–∂–¥–æ–≥–æ –ø–µ—Ä–µ—Å–æ–∑–¥–∞–Ω–∏—è –ø–æ–¥–∞, –≤—Å–µ –ø—Ä–µ–¥—ã–¥—É—â–∏–µ –∫–æ–º–∞–Ω–¥—ã –Ω—É–∂–Ω–æ –≤—ã–ø–æ–ª–Ω–∏—Ç—å —Ç–æ–ª—å–∫–æ
–æ–¥–∏–Ω —Ä–∞–∑ –¥–ª—è –∑–∞–ø–∏—Å–∏ –≤ –æ–±—â–µ–µ —Ö—Ä–∞–Ω–∏–ª–∏—â–µ.

–ü—Ä–æ–±—É–µ–º –∑–∞–ø—É—Å—Ç–∏—Ç—å –æ–±—É—á–µ–Ω–∏–µ:

```shell
export HF_MODEL_ID="/workspace/models/flux-dev"
export INSTANCE_DIR="/workspace/dataset/origs"
export OUTPUT_DIR="/workspace/weights/style"
export CUDA_VISIBLE_DEVICES=0

cd /workspace/diffusers/examples/dreambooth 

sudo accelerate launch train_dreambooth_lora_flux.py \
  --pretrained_model_name_or_path "$HF_MODEL_ID" \
  --instance_data_dir "$INSTANCE_DIR" \
  --instance_prompt "a painting in sksartist style" \
  --rank 64 \
  --lora_alpha 64 \
  --lora_dropout 0.0 \
  --train_batch_size 2 \
  --gradient_accumulation_steps 4 \
  --learning_rate 1e-4 \
  --max_train_steps 1000 \
  --checkpointing_steps 200 \
  --resolution 1024 \
  --mixed_precision bf16 \
  --gradient_checkpointing \
  --use_8bit_adam \
  --report_to tensorboard \
  --output_dir "$OUTPUT_DIR" \
  --resume_from_checkpoint checkpoint-500
```

–í–µ—Å–∞ —Å–æ—Ö—Ä–∞–Ω–∏–ª–∏—Å—å –≤ `/workspace/weights/style`, –ø—Ä–æ–±—É–µ–º –∏–Ω—Ñ–µ—Ä–µ–Ω—Å:

```shell
from diffusers import FluxPipeline
import torch

pipe = FluxPipeline.from_pretrained("/workspace/models/flux-dev", torch_dtype=torch.bfloat16).to("cuda")

# –ü–æ–¥–∫–ª—é—á–∞–µ–º LoRA
pipe.load_lora_weights("/workspace/weights/style/checkpoint-1000")

prompt = "Moscow Red Square, in sksartist style"
image = pipe(prompt, num_inference_steps=25, guidance_scale=3.5, width=1024, height=1024).images[0]
image.save("test.png")
```

–ü–æ –∑–∞–ø—Ä–æ—Å—É `Moscow Red Square, in sksartist style` –ø–æ–ª—É—á–∞–µ–º:

<img src="/images/kremlin1_.png" width="700px" />

–ù–∞ –ø–µ—Ä–≤—ã–π –≤–∑–≥–ª—è–¥ –Ω–µ–ø–ª–æ—Ö–æ. –ï—Å—Ç—å –∫—É–¥–∞ —Ä–∞–±–æ—Ç–∞—Ç—å, –Ω–æ –Ω–∞ –ö—Ä–∞—Å–Ω—É—é –ü–ª–æ—â–∞–¥—å –ø–æ—Ö–æ–∂–µ, —Å—Ç–∏–ª—å —Ö—É–¥–æ–∂–Ω–∏–∫–∞ —Å–æ—Ö—Ä–∞–Ω–µ–Ω (–º–µ—Ç—Ä–∏–∫–∏ –∫–∞—á–µ—Å—Ç–≤–∞
—Å—Ç–∏–ª—è –ø–æ–¥–∫–ª—é—á–∏–º –ø–æ–∑–∂–µ).

–ü—Ä–æ–±—É–µ–º –¥–∞–ª—å—à–µ, `Moscow State University, in sksartist style`:

<img src="/images/MSU1.png" width="700px" />

–í–∏–¥–∏–º–æ, –Ω–µ–π—Ä–æ—Å–µ—Ç—å –Ω–µ –∑–Ω–∞–µ—Ç, –∫–∞–∫ –≤—ã–≥–ª—è–¥–∏—Ç –ú–ì–£. (–Ω–µ–±–æ–ª—å—à–æ–π –∑–∞–±–∞–≤–Ω—ã–π —Ñ–∞–∫—Ç ‚Äî –ª–µ–≤–æ–µ –¥–≤—É—Ö –±–∞—à–µ–Ω–Ω–æ–µ –∑–¥–∞–Ω–∏–µ –Ω–∞ —Ñ–æ–Ω–µ —Å–∫–æ—Ä–µ–µ
–≤—Å–µ–≥–æ —Ä–µ–∑—É–ª—å—Ç–∞—Ç –æ–±—É—á–µ–Ω–∏–µ –Ω–∞ –¥–≤—É—Ö –±–∞—à–µ–Ω–Ω–æ–π –∫–æ–Ω—Å—Ç—Ä—É–∫—Ü–∏–∏, –∫–æ—Ç–æ—Ä–∞—è –ø–µ—Ä–∏–æ–¥–∏—á–µ—Å–∫–∏ –µ—Å—Ç—å –≤ –∞—Ä—Ç–∞—Ö —Ö—É–¥–æ–∂–Ω–∏–∫–∞)

–ü–æ–ø—Ä–æ–±—É–µ–º –ø–æ–ø—Ä–æ—â–µ, `Moscow, in sksartist style`:

<img src="/images/Moscow1.png" width="700px" />

–í–∏–¥–∏–º–æ, —Å–ª–∏—à–∫–æ–º –ø—Ä–æ—Å—Ç–æ. –ü—Ä–æ–±—É–µ–º —Å–Ω–æ–≤–∞ `Moscow Red Square, in sksartist style`:

<img src="/images/kremlin2.png" width="700px" />

–ú–æ–∂–Ω–æ –µ—â–µ —á—É—Ç—å-—á—É—Ç—å –ø–æ–¥–∫—Ä—É—Ç–∏—Ç—å –ø—Ä–æ–º–ø—Ç, –Ω–æ –≥–ª–∞–≤–Ω–æ–µ, —á—Ç–æ –ø–æ–Ω—è—Ç–Ω–æ, ‚Äî –Ω–µ–π—Ä–æ—Å–µ—Ç—å –Ω–µ –∑–Ω–∞–µ—Ç, –∫–∞–∫ –≤—ã–≥–ª—è–¥–∏—Ç
–ú–æ—Å–∫–≤–∞ –∑–∞ –ø—Ä–µ–¥–µ–ª–∞–º–∏ –∫—Ä–∞—Å–Ω–æ–π –ø–ª–æ—â–∞–¥–∏.
–í —Ü–µ–ª–æ–º –æ–∂–∏–¥–∞–µ–º–æ –∫–æ–Ω–µ—á–Ω–æ, –Ω–µ–π—Ä–æ—Å–µ—Ç–∏ –Ω–µ –æ–±—É—á–∞—é—Ç –Ω–∞ –∫–∞–∂–¥–æ–º –≥–æ—Ä–æ–¥–µ –æ—Ç–¥–µ–ª—å–Ω–æ,
–≤ –Ω–∏—Ö —Å—Ç–æ–ª—å–∫–æ –Ω–µ –≤–ª–µ–∑–µ—Ç, –º–∞–∫—Å–∏–º—É–º ‚Äî –∫—Ä—É–ø–Ω—ã–µ –¥–æ—Å—Ç–æ–ø—Ä–∏–º–µ—á–∞—Ç–µ–ª—å–Ω–æ—Å—Ç–∏.

–î–∞–ª–µ–µ —Ç—Ä–∏ –≤–∞—Ä–∏–∞–Ω—Ç–∞:

1. –î–æ–æ–±—É—á–∏—Ç—å –º–æ–¥–µ–ª—å –Ω–∞ –Ω–µ—Å–∫–æ–ª—å–∫–∏—Ö –ª–æ–∫–∞—Ü–∏—è—Ö (–Ω–∞–ø—Ä–∏–º–µ—Ä –ø–æ–ø—É–ª—è—Ä–Ω—ã—Ö –º–µ—Å—Ç–∞—Ö), –∫–æ—Ç–æ—Ä—ã–µ –º—ã —Ö–æ—Ç–∏–º –Ω–∞—Ä–∏—Å–æ–≤–∞—Ç—å;
2. –°–æ–≤–µ—Ä—à–µ–Ω—Å—Ç–≤–æ–≤–∞—Ç—å –ø—Ä–æ–º–ø—Ç –¥–ª—è —Ç–æ–≥–æ, —á—Ç–æ–±—ã –∫–∞—Ä—Ç–∏–Ω–∫–∞ –ª—É—á—à–µ —Å—Ö–æ–¥–∏–ª–∞—Å—å —Å —Ä–µ–∞–ª—å–Ω–æ—Å—Ç—å—é;
3. –í–∑—è—Ç—å –≥–æ—Ç–æ–≤—É—é —Ñ–æ—Ç–æ–≥—Ä–∞—Ñ–∏—é –∫–∞–∫–æ–π-—Ç–æ –ª–æ–∫–∞—Ü–∏–∏ –≤ –≥–æ—Ä–æ–¥–µ, –∏ –ø—Ä–æ–≥–Ω–∞—Ç—å –µ–µ —á–µ—Ä–µ–∑ –º–æ–¥–µ–ª—å (image-to-image);

–ü–æ–ø—Ä–æ–±—É–µ–º –≤—Å–µ —Ç—Ä–∏ –≤–∞—Ä–∏–∞–Ω—Ç–∞, –Ω–∞—á–∏–Ω–∞—è —Å –ø–µ—Ä–≤–æ–≥–æ.

–ë–µ—Ä–µ–º —Å–∫—Ä–∏–ø—Ç –¥–ª—è —Å–∫–∞—á–∏–≤–∞–Ω–∏—è –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–π –∏–∑ –∏–Ω—Ç–µ—Ä–Ω–µ—Ç–∞, –æ–ø–∏—Å–∞–Ω–Ω—ã–π –≤—ã—à–µ, —Å–∫–∞—á–∏–≤–∞–µ–º 20 —Ñ–æ—Ç–æ–≥—Ä–∞—Ñ–∏–π –∫—Ä–µ–º–ª—è.
–î–∞–ª–µ–µ –±–µ—Ä–µ–º –æ–±—É—á–µ–Ω–Ω—É—é –Ω–∞ —Å—Ç–∏–ª—å —Ö—É–¥–æ–∂–Ω–∏–∫–∞ –≤ 1000 –∏—Ç–µ—Ä–∞—Ü–∏–π –º–æ–¥–µ–ª—å –∏ –¥–æ–æ–±—É—á–∞–µ–º –µ—â–µ –Ω–∞ 500 –∏—Ç–µ—Ä–∞—Ü–∏–π:

```shell
# –¢–∞ –∂–µ –∫–æ–º–∞–Ω–¥–∞ —Ç–æ–ª—å–∫–æ –º–µ–Ω—è–µ–º –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏—é
export INSTANCE_DIR="/workspace/dataset/kremlin"
# –ú–µ–Ω—è–µ–º –æ–ø–∏—Å–∞–Ω–∏–µ
# --instance_prompt "Moscow Kremlin" \
# —É–≤–µ–ª–∏—á–∏–≤–∞–µ–º —á–∏—Å–ª–æ –∏—Ç–µ—Ä–∞—Ü–∏–π –Ω–∞ 500
# --max_train_steps 1500 \
# —É–∫–∞–∑—ã–≤–∞–µ–º –Ω–∞—á–∞—Ç—å —Å 1000 –∏—Ç–µ—Ä–∞—Ü–∏–∏
# --resume_from_checkpoint checkpoint-1000
```

–ü–æ—Å–º–æ—Ç—Ä–∏–º —Ä–µ–∑—É–ª—å—Ç–∞—Ç –ø–æ –∑–∞–ø—Ä–æ—Å—É `Moscow Kremlin, in sksartist style`:

<p float="left">
  <img src="/images/kremlin3.png" width="40%" />
  <img src="/images/kremlin4.png" width="40%" />
</p>

–ú–æ–¥–µ–ª—å –≤—ã—É—á–∏–ª–∞, –∫–∞–∫ –≤—ã–≥–ª—è–¥–∏—Ç –∫—Ä–µ–º–ª—å, –Ω–æ "–∑–∞–±—ã–ª–∞" —Å—Ç–∏–ª—å —Ö—É–¥–æ–∂–Ω–∏–∫–∞, –æ–∂–∏–¥–∞–µ–º–æ.

–ü–æ–ø—Ä–æ–±—É–µ–º —Å–¥–µ–ª–∞—Ç—å –¥–≤–∞ —Ä–∞–∑–¥–µ–ª—å–Ω—ã—Ö LoRA –∏ —Å–æ–∑–¥–∞—Ç—å –∏—Ö –∫–æ–º–ø–æ–∑–∏—Ü–∏—è –Ω–∞ –∏–Ω—Ñ–µ—Ä–µ–Ω—Å–µ.

–ù–æ –ø–µ—Ä–µ–¥ —ç—Ç–∏–º —Å–Ω–æ–≤–∞ –æ–±—É—á–∏–º –º–æ–¥–µ–ª—å —Å 0 –Ω–∞ —Å—Ç–∏–ª—å —Ö—É–¥–æ–∂–Ω–∏–∫–∞,
–Ω–æ —É–∂–µ **–≤ —Ä–∞–∑—Ä–µ—à–µ–Ω–∏–∏ 1024 –≤–º–µ—Å—Ç–æ 768 —Ç–∞–∫ –∂–µ –Ω–∞ 1000 –∏—Ç–µ—Ä–∞—Ü–∏–π**,
—á—Ç–æ–±—ã —É–ª—É—á—à–∏—Ç—å –º–µ–ª–∫–∏–µ –¥–µ—Ç–∞–ª–∏. –ü–æ—Å–º–æ—Ç—Ä–∏–º, —á—Ç–æ –ø–æ–ª—É—á–∏–ª–æ—Å—å:

`urban area, several residential buildings, a sidewalk with cars, two children on the sidewalk, in sksartist style`

<p float="left">
  <img src="/images/test1.png" width="40%" />
  <img src="/images/test2.png" width="40%" />
</p>

<p float="left">
  <img src="/images/test3.png" width="40%" />
  <img src="/images/test4.png" width="40%" />
</p>

–°—Ç–æ–∏—Ç –ø—Ä–∏–∑–Ω–∞—Ç—å, –ø–æ –≤–∞–π–±–∞–º —É–∂–µ –ø–æ—Ö–æ–∂–µ –Ω–∞ –ú–æ—Å–∫–≤—É. –ß—É—Ç—å-—á—É—Ç—å –ø–æ–¥–∫—Ä—É—Ç–∏–º –∏–Ω—Ñ–µ—Ä–µ–Ω—Å:

`image = pipe(prompt, num_inference_steps=36, guidance_scale=3.5, width=1024, height=1024).images[0]`

<p float="left">
  <img src="/images/test5.png" width="40%" />
  <img src="/images/test6.png" width="40%" />
</p>

<p float="left">
  <img src="/images/test7.png" width="40%" />
  <img src="/images/test8.png" width="40%" />
</p>

–ü–æ —Å—Ç–∏–ª—é –∏ –Ω–∞–ø–æ–ª–Ω–µ–Ω–∏—é –æ—á–µ–Ω—å —Ö–æ—Ä–æ—à–æ. –û—Ç–º–µ—Ç–∏–º, —á—Ç–æ –Ω—É–∂–Ω–æ –±—É–¥–µ—Ç —Ä–∞–∑–æ–±—Ä–∞—Ç—å—Å—è —Å –º–µ–ª–∫–∞–º–∏ –¥–µ—Ç–∞–ª—è–º–∏, –æ—Å–æ–±–µ–Ω–Ω–æ —Å –ª–∏—Ü–∞–º–∏.

–í–æ–∑–≤—Ä–∞—â–∞–µ–º—Å—è –∫ –æ–±—É—á–µ–Ω–∏—é –ª–æ–∫–∞—Ü–∏—è–º. –ó–∞–ø—É—Å–∫–∞–µ–º –∫—Ä–µ–º–ª—å (20 —Ñ–æ—Ç–æ–≥—Ä–∞—Ñ–∏–π) —Å –ø–∞—Ä–∞–º–µ—Ç—Ä–∞–º–∏:

```shell
  --rank 32 \
  --lora_alpha 64 \
  --lora_dropout 0.0 \
  --train_batch_size 2 \
  --gradient_accumulation_steps 4 \
  --learning_rate 5e-4 \
  --max_train_steps 800 \
  --checkpointing_steps 200 \
  --resolution 768
```

–î–∞–ª–µ–µ –µ—Å—Ç—å –Ω–µ—Å–∫–æ–ª—å–∫–æ –≤–∞—Ä–∏–∞–Ω—Ç–æ–≤ –Ω–∞—Ä–∏—Å–æ–≤–∞—Ç—å –∫–∞—Ä—Ç–∏–Ω–∫—É –≤ –∑–∞–¥–∞–Ω–Ω–æ–º —Å—Ç–∏–ª–µ:

### üé® Flux Kontext

–ü–æ–ø—Ä–æ–±—É–µ–º –≥–µ–Ω–µ—Ä–∏—Ä–æ–≤–∞—Ç—å –∫–∞—Ä—Ç–∏–Ω–∫–∏ —Å –ø–æ–º–æ—â—å—é –ø–µ—Ä–µ—Ä–∏—Å–æ–≤–∫–∏ —Å –æ–±—ã—á–Ω—ã—Ö —Ñ–æ—Ç–æ–≥—Ä–∞—Ñ–∏–π c –ø—Ä–æ–º–ø—Ç–æ–º `in <sksartist> style`:

<img src="/images/city_flux_1.png" width="700px" />

<img src="/images/msu_flux_1.png" width="700px" />

–ù–µ –ø–æ–ø–∞–ª–∏ –≤ —Å—Ç–∏–ª—å. –°–Ω–∏–∑–∏–º –≤–µ—Å –∞–¥–∞–ø—Ç–µ—Ä–∞ —Å—Ç–∏–ª—è —Å 1 –¥–æ 0.5 guidance_scale —Å 3.5 –¥–æ 2.5:

<img src="/images/city_flux_2.png" width="700px" />

<img src="/images/msu_flux_2.png" width="700px" />

–£–∂–µ –ø–æ–ª—É—á—à–µ (–ø–æ–¥–ø–∏—Å–∞—Ç—å –≤—Å—Ç–∞–≤–∏–ª —Å–∞–º flux kontext), –Ω–æ –≤—Å—ë –µ—â–µ –Ω–µ –¥–æ—Ç—è–≥–∏–≤–∞–µ—Ç.
–í–æ–∑–º–æ–∂–Ω–æ, –º–æ–¥–µ–ª–∏ FLUX.1-Redux-dev –∏ FLUX.1-IP-Adapter –±—É–¥—É—Ç —Ä–∞–±–æ—Ç–∞—Ç—å –ª—É—á—à–µ.

### ‚úçÔ∏è –ü—Ä–æ–º–ø—Ç–∏–Ω–≥ –ø–µ—Ä–µ–æ–±—É—á–µ–Ω–Ω–æ–π –Ω–∞ —Å—Ç–∏–ª—å –º–æ–¥–µ–ª–∏

–ü—Ä–∏ —Ö–æ—Ä–æ—à–µ–π —Ä–∞–±–æ—Ç–µ —Å –ø—Ä–æ–º–ø—Ç–∞–º–∏, –º–æ–∂–Ω–æ –¥–æ–±–∏—Ç—å—Å—è —Ö–æ—Ä–æ—à–∏—Ö —Ä–µ–∑—É–ª—å—Ç–∞—Ç–æ–≤ –ø—É—Å—Ç—å –∏ –±–µ–∑ –∫–æ–Ω–∫—Ä–µ—Ç–Ω—ã—Ö –ª–æ–∫–∞—Ü–∏–π,
—Ö–æ—Ç—è –º–µ—Å—Ç–∞–º–∏ –µ—Å—Ç—å –Ω–∏–∑–∫–∞—è –¥–µ—Ç–∞–ª–∏–∑–∞—Ü–∏—è –∫–æ—Ç–æ—Ä–∞—è –æ–±—É—Å–ª–∞–≤–ª–∏–≤–∞–µ—Ç—Å—è –æ–≥—Ä–∞–Ω–∏—á–µ–Ω–Ω–æ—Å—Ç—å—é —Ä–µ—Å—É—Ä—Å–æ–≤ –Ω–∞ –æ–±—É—á–µ–Ω–∏–µ –∏ –∏–Ω—Ñ–µ—Ä–µ–Ω—Å:

<img src="/images/moscow_6.png" width="700px" />

<img src="/images/moscow_1__.png" width="700px" />

<img src="/images/moscow_2.png" width="700px" />

<img src="/images/moscow_3.png" width="700px" />

<img src="/images/moscow_5.png" width="700px" />

### üìç –î–æ—É–±–µ—á–µ–Ω–∏–µ —Å—Ç–∏–ª—é –∏ –∫–æ–Ω–∫—Ä–µ—Ç–Ω–æ–π –ª–æ–∫–∞—Ü–∏–∏

–í –∫–∞—á–µ—Å—Ç–≤–µ –ø—Ä–∏–º–µ—Ä–∞ –º–æ–¥–µ–ª—å –±—ã–ª–∞ –¥–æ–æ–±—É—á–µ–Ω–∞ –Ω–∞ 20 —Ñ–æ—Ç–æ–≥—Ä–∞—Ñ–∏—è—Ö –∫—Ä–µ–º–ª—è:

<img src="/images/kremlin_res_1.png" width="700px" />

<img src="/images/kremlin_res_2.png" width="700px" />

<img src="/images/kremlin_res_3.png" width="700px" />

<img src="/images/kremlin_res_4.png" width="700px" />



## ‚öñÔ∏è –°—Ä–∞–≤–Ω–µ–Ω–∏–µ

### ‚úÖ –û–ø—Ä–æ–±–æ–≤–∞–Ω–Ω—ã–µ –º–µ—Ç–æ–¥—ã

–í –¥–∞–Ω–Ω–æ–º –∫–æ–Ω—Ç–µ–∫—Å—Ç–µ –∏–¥–µ—Ç —Ä–µ—á—å –æ–± –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ –º–æ–¥–µ–ª–µ–π –Ω–∞ –±–∞–∑–µ FLUX.

| –ú–µ—Ç–æ–¥                                     | –°—Ç–∏–ª—å                                                                                             | –õ–æ–∫–∞—Ü–∏–∏            | –°–ª–æ–∂–Ω–æ—Å—Ç—å                                                                                                                    |
|-------------------------------------------|---------------------------------------------------------------------------------------------------|--------------------|------------------------------------------------------------------------------------------------------------------------------|
| –ò—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å —Ç–æ–ª—å–∫–æ –ø—Ä–æ–º–ø—Ç—ã, –±–µ–∑ –æ–±—É—á–µ–Ω–∏—è | –ü—Ä–∏–µ–º–ª–µ–º—ã–π, –Ω–æ –µ—Å—Ç—å –ø—Ä–µ–¥–µ–ª —Å—Ö–æ–∂–µ—Å—Ç–∏ —Å —Ä–µ—Ñ–µ—Ä–µ–Ω—Å–æ–º                                                  | –Ω–∏–∑–∫–∞—è —Ç–æ—á–Ω–æ—Å—Ç—å    | –ü—Ä–æ—Å—Ç–∞—è, –Ω–µ —Ç—Ä–µ–±—É–µ—Ç –¥–æ–æ–±—É—á–µ–Ω–∏—è                                                                                               |
| –î–æ–æ–±—É—á–µ–Ω–∏–µ —Å—Ç–∏–ª—é                          | –•–æ—Ä–æ—à–∏–π                                                                                           | –Ω–∏–∑–∫–∞—è —Ç–æ—á–Ω–æ—Å—Ç—å    | –î–æ–æ–±—É—á–∏—Ç—å –º–æ–¥–µ–ª—å –Ω–∞ —Å—Ç–∏–ª—å (1000 –∏—Ç–µ—Ä–∞—Ü–∏–π, —Ä–∞–∑—Ä–µ—à–µ–Ω–∏–µ 1024x1024)                                                              |
| –î–æ–æ–±—É—á–µ–Ω–∏–µ —Å—Ç–∏–ª—é –∏ –ª–æ–∫–∞—Ü–∏—è–º               | –•–æ—Ä–æ—à–∏–π                                                                                           | –≤—ã—Å–æ–∫–∞—è —Ç–æ—á–Ω–æ—Å—Ç—å   | –î–æ–æ–±—É—á–∏—Ç—å –º–æ–¥–µ–ª—å –Ω–∞ —Å—Ç–∏–ª—å (1000 –∏—Ç–µ—Ä–∞—Ü–∏–π, —Ä–∞–∑—Ä–µ—à–µ–Ω–∏–µ 1024x1024) –∏ –∫–∞–∂–¥—É—é –ª–æ–∫–∞—Ü–∏—é –æ—Ç–¥–µ–ª—å–Ω–æ (800 –∏—Ç–µ—Ä–∞—Ü–∏–π, —Ä–∞–∑—Ä–µ—à–µ–Ω–∏–µ 768x768) |
| –î–æ–æ–±—É—á–µ–Ω–∏–µ —Å—Ç–∏–ª—é + image-to-image         | –ü–ª–æ—Ö–æ–π –¥–ª—è –º–æ–¥–µ–ª–∏ FLUX.1-Kontext-dev, –≤–æ–∑–º–æ–∂–Ω–æ –¥–ª—è FLUX.1-Redux-dev FLUX.1-IP-Adapter –±—É–¥—É—Ç –ª—É—á—à–µ | —Ç–æ—á–Ω–æ–µ –∫–æ–ø–∏—Ä–æ–≤–∞–Ω–∏–µ | –î–æ–æ–±—É—á–∏—Ç—å –º–æ–¥–µ–ª—å –Ω–∞ —Å—Ç–∏–ª—å (1000 –∏—Ç–µ—Ä–∞—Ü–∏–π, —Ä–∞–∑—Ä–µ—à–µ–Ω–∏–µ 1024x1024)                                                              |

–î–∞–ª–µ–µ –≤—ã–±–æ—Ä –º–æ–¥–µ–ª–∏ –∑–∞–≤–∏—Å–∏—Ç –æ—Ç —Ç—Ä–µ–±–æ–≤–∞–Ω–∏–π –¢–ó, –≤ –ø–µ—Ä–≤—É—é –æ—á–µ—Ä–µ–¥—å –æ—Ç —Ç–æ–≥–æ —á—Ç–æ –º—ã —Ö–æ—Ç–∏–º —Ä–∏—Å–æ–≤–∞—Ç—å: –ª–æ–∫–∞—Ü–∏–∏ —Å —Ç–æ—á–Ω—ã–º —Å–æ–≤–ø–∞–¥–µ–Ω–∏–µ–º, –ø—Ä–æ—Å—Ç–æ –∞—Ç–º–æ—Å—Ñ–µ—Ä–Ω—ã–µ —É–ª–∏—Ü—ã –∏ —Ç.–¥.

### üçå Nano Banana

–ü—Ä–∏ –∑–∞–≥—Ä—É–∑–∫–µ –Ω–µ—Å–∫–æ–ª—å–∫–∏—Ö —Ä–µ—Ñ–µ—Ä–µ–Ω—Å–æ–≤ –Ω–∞ –ø—Ä–æ–º–ø—Ç `Moscow State University, sunrise`
—Å–≥–µ–Ω–µ—Ä–∏—Ä–æ–≤–∞–ª–∞—Å—å –∫–∞—Ä—Ç–∏–Ω–∫–∞:

<img src="/images/nanobanana.png" width="700px" />

### üß† GPT-Image

–ü—Ä–∏ –∑–∞–≥—Ä—É–∑–∫–µ –Ω–µ—Å–∫–æ–ª—å–∫–∏—Ö —Ä–µ—Ñ–µ—Ä–µ–Ω—Å–æ–≤ –Ω–∞ –ø—Ä–æ–º–ø—Ç `–Ω–∞—Ä–∏—Å—É–π –ú–ì–£ –Ω–∞ —Ä–∞—Å—Å–≤–µ—Ç–µ –≤ —Å—Ç–∏–ª–µ –ø—Ä–∏–∫—Ä–µ–ø–ª–µ–Ω–Ω—ã—Ö —Ñ–æ—Ç–æ–≥—Ä–∞—Ñ–∏–π`
—Å–≥–µ–Ω–µ—Ä–∏—Ä–æ–≤–∞–ª–∞—Å—å –∫–∞—Ä—Ç–∏–Ω–∫–∞:

<img src="/images/gpt.png" width="700px" />

### üßæ –ò—Ç–æ–≥ —Å—Ä–∞–≤–Ω–µ–Ω–∏—è

–°—É–¥—è –ø–æ –¥–µ—Ç–∞–ª–∏–∑–∞—Ü–∏–∏ –∑–¥–∞–Ω–∏—è –Ω–∞ –∫–∞—Ä—Ç–∏–Ω–∫–∞—Ö Nano Banana –∏ GPT-Image, –≤ –∏—Ö –æ—Å–Ω–æ–≤–µ –ª–µ–∂–∏—Ç
image-to-image –ø–ª—é—Å text-to-image, —Ç.–µ —Å–æ–≤–º–µ—â–∞–µ—Ç—Å—è —Å—Ä–∞–∑—É –Ω–µ—Å–∫–æ–ª—å–∫–æ —Å–ø–æ—Å–æ–±–æ–≤.
–ì–æ—Ä–∞–∑–¥–æ –±–æ–ª—å—à–∏–µ –º–æ—â–Ω–æ—Å—Ç–∏ –¥–ª—è –æ–±—É—á–µ–Ω–∏—è –∏ –∏–Ω—Ñ–µ—Ä–µ–Ω—Å–∞ —É–≤–µ–ª–∏—á–∏–≤–∞—é—Ç —á–µ—Ç–∫–æ—Å—Ç—å –¥–µ—Ç–∞–ª–∏–∑–∞—Ü–∏–∏.
–ù–æ –≥–ª–∞–≤–Ω–æ–µ –ø—Ä–µ–∏–º—É—â–µ—Å—Ç–≤–æ ‚Äî –ø–æ–∏—Å–∫ –∏ –ø–æ–¥–≥—Ä—É–∑–∫–∞ —Ñ–æ—Ç–æ–≥—Ä–∞—Ñ–∏–π –∏–∑ –±–∞–∑—ã/–∏–Ω—Ç–µ—Ä–Ω–µ—Ç–∞, —á—Ç–æ –ø–æ–∑–≤–æ–ª—è–µ—Ç —Å—Ç—Ä–æ–∏—Ç—å –∫–∞—á–µ—Å—Ç–≤–µ–Ω–Ω—ã–π
—Ä–µ–∑—É–ª—å—Ç–∞—Ç –∑–∞ —Å—á–µ—Ç image-to-image.

## üå± –ß—Ç–æ –º–æ–∂–Ω–æ —É–ª—É—á—à–∏—Ç—å

1. –£–ª—É—á—à–∏—Ç—å –ø—Ä–æ–º–ø—Ç—ã
2. –°–¥–µ–ª–∞—Ç—å –∞—É–≥–º–µ–Ω—Ç–∞—Ü–∏—é –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–π
   (—Ç–µ–º –±–æ–ª–µ–µ —á—Ç–æ –∏—Å—Ö–æ–¥–Ω—ã–µ –∫–∞—Ä—Ç–∏–Ω–∫–∏ –≤ 4–ö, –µ—Å—Ç—å –∫—É–¥–∞ –æ–±—Ä–µ–∑–∞—Ç—å);
3. –ü–æ–¥—Ç—å—é–Ω–∏—Ç—å –ø–∞—Ä–∞–º–µ—Ç—Ä—ã –æ–±—É—á–µ–Ω–∏—è –∏ –∏–Ω—Ñ–µ—Ä–µ–Ω—Å–∞;
4. –î–æ–±–∞–≤–∏—Ç—å –º–æ–¥–µ–ª–∏ –¥–ª—è —á–µ—Ç–∫–æ–π –æ—Ç—Ä–∏—Å–æ–≤–∫–∏ —Ç–µ–∫—Å—Ç–∞;
5. –£ —Ö—É–¥–æ–∂–Ω–∏–∫–∞ –µ—Å—Ç—å –µ—â–µ –Ω–µ—Å–∫–æ–ª—å–∫–æ –∫–æ–ª–ª–µ–∫—Ü–∏–π –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–π, –∏—Ö –º–æ–∂–Ω–æ –¥–æ–±–∞–≤–∏—Ç—å –≤ –¥–∞—Ç–∞—Å–µ—Ç;
6. –ù–∞—É—á–∏—Ç—å –º–æ–¥–µ–ª—å —Ä–∏—Å–æ–≤–∞—Ç—å, –∏–º–∏—Ç–∏—Ä—É—è —Ä–µ–ª—å–µ—Ñ —Ö–æ–ª—Å—Ç–∞;
7. –î–æ–±–∞–≤–∏—Ç—å –æ—Ü–µ–Ω–∫—É –∫–∞—á–µ—Å—Ç–≤–∞ —Å –ø–æ–º–æ—â—å—é –¥—Ä—É–≥–∏—Ö –º–æ–¥–µ–ª–µ–π;
